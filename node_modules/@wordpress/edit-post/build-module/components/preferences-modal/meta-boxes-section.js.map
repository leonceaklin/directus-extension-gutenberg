{"version":3,"sources":["@wordpress/edit-post/src/components/preferences-modal/meta-boxes-section.js"],"names":["map","__","withSelect","store","editorStore","PreferencesModalSection","EnableCustomFieldsOption","EnablePanelOption","editPostStore","MetaBoxesSection","areCustomFieldsRegistered","metaBoxes","sectionProps","thirdPartyMetaBoxes","filter","id","length","title","select","getEditorSettings","getAllMetaBoxes","enableCustomFields","undefined"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,GAAT,QAAoB,QAApB;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,KAAK,IAAIC,WAAlB,QAAqC,mBAArC;AACA,SAASC,uBAAT,QAAwC,sBAAxC;AAEA;AACA;AACA;;AACA,SAASC,wBAAT,EAAmCC,iBAAnC,QAA4D,WAA5D;AACA,SAASJ,KAAK,IAAIK,aAAlB,QAAuC,aAAvC;AAEA,OAAO,SAASC,gBAAT,OAIH;AAAA,MAJ8B;AACjCC,IAAAA,yBADiC;AAEjCC,IAAAA,SAFiC;AAGjC,OAAGC;AAH8B,GAI9B;AACH;AACA,QAAMC,mBAAmB,GAAGF,SAAS,CAACG,MAAV,CAC3B;AAAA,QAAE;AAAEC,MAAAA;AAAF,KAAF;AAAA,WAAcA,EAAE,KAAK,YAArB;AAAA,GAD2B,CAA5B;;AAIA,MAAK,CAAEL,yBAAF,IAA+BG,mBAAmB,CAACG,MAApB,KAA+B,CAAnE,EAAuE;AACtE,WAAO,IAAP;AACA;;AAED,SACC,cAAC,uBAAD,EAA8BJ,YAA9B,EACGF,yBAAyB,IAC1B,cAAC,wBAAD;AAA0B,IAAA,KAAK,EAAGT,EAAE,CAAE,eAAF;AAApC,IAFF,EAIGD,GAAG,CAAEa,mBAAF,EAAuB;AAAA,QAAE;AAAEE,MAAAA,EAAF;AAAME,MAAAA;AAAN,KAAF;AAAA,WAC3B,cAAC,iBAAD;AACC,MAAA,GAAG,EAAGF,EADP;AAEC,MAAA,KAAK,EAAGE,KAFT;AAGC,MAAA,SAAS,EAAI,YAAYF,EAAI;AAH9B,MAD2B;AAAA,GAAvB,CAJN,CADD;AAcA;AAED,eAAeb,UAAU,CAAIgB,MAAF,IAAc;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAwBD,MAAM,CAAEd,WAAF,CAApC;AACA,QAAM;AAAEgB,IAAAA;AAAF,MAAsBF,MAAM,CAAEV,aAAF,CAAlC;AAEA,SAAO;AACN;AACAE,IAAAA,yBAAyB,EACxBS,iBAAiB,GAAGE,kBAApB,KAA2CC,SAHtC;AAINX,IAAAA,SAAS,EAAES,eAAe;AAJpB,GAAP;AAMA,CAVwB,CAAV,CAUVX,gBAVU,CAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { withSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { PreferencesModalSection } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { EnableCustomFieldsOption, EnablePanelOption } from './options';\nimport { store as editPostStore } from '../../store';\n\nexport function MetaBoxesSection( {\n\tareCustomFieldsRegistered,\n\tmetaBoxes,\n\t...sectionProps\n} ) {\n\t// The 'Custom Fields' meta box is a special case that we handle separately.\n\tconst thirdPartyMetaBoxes = metaBoxes.filter(\n\t\t( { id } ) => id !== 'postcustom'\n\t);\n\n\tif ( ! areCustomFieldsRegistered && thirdPartyMetaBoxes.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PreferencesModalSection { ...sectionProps }>\n\t\t\t{ areCustomFieldsRegistered && (\n\t\t\t\t<EnableCustomFieldsOption label={ __( 'Custom fields' ) } />\n\t\t\t) }\n\t\t\t{ map( thirdPartyMetaBoxes, ( { id, title } ) => (\n\t\t\t\t<EnablePanelOption\n\t\t\t\t\tkey={ id }\n\t\t\t\t\tlabel={ title }\n\t\t\t\t\tpanelName={ `meta-box-${ id }` }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</PreferencesModalSection>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditorSettings } = select( editorStore );\n\tconst { getAllMetaBoxes } = select( editPostStore );\n\n\treturn {\n\t\t// This setting should not live in the block editor's store.\n\t\tareCustomFieldsRegistered:\n\t\t\tgetEditorSettings().enableCustomFields !== undefined,\n\t\tmetaBoxes: getAllMetaBoxes(),\n\t};\n} )( MetaBoxesSection );\n"]}