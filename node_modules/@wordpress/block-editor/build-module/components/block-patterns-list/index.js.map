{"version":3,"sources":["@wordpress/block-editor/src/components/block-patterns-list/index.js"],"names":["VisuallyHidden","__unstableComposite","Composite","__unstableUseCompositeState","useCompositeState","__unstableCompositeItem","CompositeItem","Tooltip","useInstanceId","__","BlockPreview","InserterDraggableBlocks","WithToolTip","showTooltip","title","children","BlockPattern","isDraggable","pattern","onClick","composite","blocks","viewportWidth","instanceId","descriptionId","draggable","onDragStart","onDragEnd","description","undefined","BlockPatternPlaceholder","BlockPatternList","blockPatterns","shownPatterns","onClickPattern","orientation","label","showTitlesAsTooltip","map","isShown","includes","name"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tVisuallyHidden,\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n\tTooltip,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nconst WithToolTip = ( { showTooltip, title, children } ) => {\n\tif ( showTooltip ) {\n\t\treturn <Tooltip text={ title }>{ children }</Tooltip>;\n\t}\n\treturn <>{ children }</>;\n};\n\nfunction BlockPattern( {\n\tisDraggable,\n\tpattern,\n\tonClick,\n\tcomposite,\n\tshowTooltip,\n} ) {\n\tconst { blocks, viewportWidth } = pattern;\n\tconst instanceId = useInstanceId( BlockPattern );\n\tconst descriptionId = `block-editor-block-patterns-list__item-description-${ instanceId }`;\n\n\treturn (\n\t\t<InserterDraggableBlocks\n\t\t\tisEnabled={ isDraggable }\n\t\t\tblocks={ blocks }\n\t\t\tisPattern={ !! pattern }\n\t\t>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-block-patterns-list__list-item\"\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t\tonDragEnd={ onDragEnd }\n\t\t\t\t>\n\t\t\t\t\t<WithToolTip\n\t\t\t\t\t\tshowTooltip={ showTooltip }\n\t\t\t\t\t\ttitle={ pattern.title }\n\t\t\t\t\t>\n\t\t\t\t\t\t<CompositeItem\n\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t\t{ ...composite }\n\t\t\t\t\t\t\tclassName=\"block-editor-block-patterns-list__item\"\n\t\t\t\t\t\t\tonClick={ () => onClick( pattern, blocks ) }\n\t\t\t\t\t\t\taria-label={ pattern.title }\n\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\tpattern.description ? descriptionId : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ ! showTooltip && (\n\t\t\t\t\t\t\t\t<div className=\"block-editor-block-patterns-list__item-title\">\n\t\t\t\t\t\t\t\t\t{ pattern.title }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ !! pattern.description && (\n\t\t\t\t\t\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t\t\t\t\t\t{ pattern.description }\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</CompositeItem>\n\t\t\t\t\t</WithToolTip>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nfunction BlockPatternPlaceholder() {\n\treturn (\n\t\t<div className=\"block-editor-block-patterns-list__item is-placeholder\" />\n\t);\n}\n\nfunction BlockPatternList( {\n\tisDraggable,\n\tblockPatterns,\n\tshownPatterns,\n\tonClickPattern,\n\torientation,\n\tlabel = __( 'Block Patterns' ),\n\tshowTitlesAsTooltip,\n} ) {\n\tconst composite = useCompositeState( { orientation } );\n\treturn (\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-editor-block-patterns-list\"\n\t\t\taria-label={ label }\n\t\t>\n\t\t\t{ blockPatterns.map( ( pattern ) => {\n\t\t\t\tconst isShown = shownPatterns.includes( pattern );\n\t\t\t\treturn isShown ? (\n\t\t\t\t\t<BlockPattern\n\t\t\t\t\t\tkey={ pattern.name }\n\t\t\t\t\t\tpattern={ pattern }\n\t\t\t\t\t\tonClick={ onClickPattern }\n\t\t\t\t\t\tisDraggable={ isDraggable }\n\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t\tshowTooltip={ showTitlesAsTooltip }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<BlockPatternPlaceholder key={ pattern.name } />\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default BlockPatternList;\n"]}