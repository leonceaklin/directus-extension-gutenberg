{"version":3,"sources":["@wordpress/edit-post/src/components/meta-boxes/index.js"],"names":["MetaBoxes","location","registry","metaBoxes","areMetaBoxesInitialized","isEditorReady","select","__unstableIsEditorReady","editorStore","getMetaBoxesPerLocation","_areMetaBoxesInitialized","editPostStore","dispatch","initializeMetaBoxes","id"],"mappings":";;;;;;;;;AASA;;AANA;;AAKA;;AAEA;;AAKA;;AACA;;AACA;;AAjBA;AACA;AACA;;AAGA;AACA;AACA;;AAKA;AACA;AACA;AAKe,SAASA,SAAT,OAAmC;AAAA,MAAf;AAAEC,IAAAA;AAAF,GAAe;AACjD,QAAMC,QAAQ,GAAG,wBAAjB;AACA,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,uBAAb;AAAsCC,IAAAA;AAAtC,MAAwD,qBAC3DC,MAAF,IAAc;AACb,UAAM;AAAEC,MAAAA;AAAF,QAA8BD,MAAM,CAAEE,aAAF,CAA1C;AACA,UAAM;AACLC,MAAAA,uBADK;AAELL,MAAAA,uBAAuB,EAAEM;AAFpB,QAGFJ,MAAM,CAAEK,YAAF,CAHV;AAIA,WAAO;AACNR,MAAAA,SAAS,EAAEM,uBAAuB,CAAER,QAAF,CAD5B;AAENG,MAAAA,uBAAuB,EAAEM,wBAAwB,EAF3C;AAGNL,MAAAA,aAAa,EAAEE,uBAAuB;AAHhC,KAAP;AAKA,GAZ4D,EAa7D,CAAEN,QAAF,CAb6D,CAA9D,CAFiD,CAkBjD;AACA;AACA;;AACA,0BAAW,MAAM;AAChB,QAAKI,aAAa,IAAI,CAAED,uBAAxB,EAAkD;AACjDF,MAAAA,QAAQ,CAACU,QAAT,CAAmBD,YAAnB,EAAmCE,mBAAnC;AACA;AACD,GAJD,EAIG,CAAER,aAAF,EAAiBD,uBAAjB,CAJH;;AAMA,MAAK,CAAEA,uBAAP,EAAiC;AAChC,WAAO,IAAP;AACA;;AAED,SACC,qDACG,iBAAKD,SAAL,EAAgB;AAAA,QAAE;AAAEW,MAAAA;AAAF,KAAF;AAAA,WACjB,4BAAC,0BAAD;AAAmB,MAAA,GAAG,EAAGA,EAAzB;AAA8B,MAAA,EAAE,EAAGA;AAAnC,MADiB;AAAA,GAAhB,CADH,EAIC,4BAAC,sBAAD;AAAe,IAAA,QAAQ,EAAGb;AAA1B,IAJD,CADD;AAQA","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useRegistry } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport MetaBoxesArea from './meta-boxes-area';\nimport MetaBoxVisibility from './meta-box-visibility';\nimport { store as editPostStore } from '../../store';\n\nexport default function MetaBoxes( { location } ) {\n\tconst registry = useRegistry();\n\tconst { metaBoxes, areMetaBoxesInitialized, isEditorReady } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { __unstableIsEditorReady } = select( editorStore );\n\t\t\tconst {\n\t\t\t\tgetMetaBoxesPerLocation,\n\t\t\t\tareMetaBoxesInitialized: _areMetaBoxesInitialized,\n\t\t\t} = select( editPostStore );\n\t\t\treturn {\n\t\t\t\tmetaBoxes: getMetaBoxesPerLocation( location ),\n\t\t\t\tareMetaBoxesInitialized: _areMetaBoxesInitialized(),\n\t\t\t\tisEditorReady: __unstableIsEditorReady(),\n\t\t\t};\n\t\t},\n\t\t[ location ]\n\t);\n\n\t// When editor is ready, initialize postboxes (wp core script) and metabox\n\t// saving. This initializes all meta box locations, not just this specific\n\t// one.\n\tuseEffect( () => {\n\t\tif ( isEditorReady && ! areMetaBoxesInitialized ) {\n\t\t\tregistry.dispatch( editPostStore ).initializeMetaBoxes();\n\t\t}\n\t}, [ isEditorReady, areMetaBoxesInitialized ] );\n\n\tif ( ! areMetaBoxesInitialized ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ map( metaBoxes, ( { id } ) => (\n\t\t\t\t<MetaBoxVisibility key={ id } id={ id } />\n\t\t\t) ) }\n\t\t\t<MetaBoxesArea location={ location } />\n\t\t</>\n\t);\n}\n"]}