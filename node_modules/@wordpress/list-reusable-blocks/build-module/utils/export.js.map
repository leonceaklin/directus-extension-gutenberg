{"version":3,"sources":["@wordpress/list-reusable-blocks/src/utils/export.js"],"names":["paramCase","kebabCase","apiFetch","download","exportReusableBlock","id","postType","path","post","rest_base","title","raw","content","fileContent","JSON","stringify","__file","fileName"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,IAAIC,SAAtB,QAAuC,aAAvC;AAEA;AACA;AACA;;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA;AACA;AACA;;AACA,SAASC,QAAT,QAAyB,QAAzB;AAEA;AACA;AACA;AACA;AACA;;AACA,eAAeC,mBAAf,CAAoCC,EAApC,EAAyC;AACxC,QAAMC,QAAQ,GAAG,MAAMJ,QAAQ,CAAE;AAAEK,IAAAA,IAAI,EAAG;AAAT,GAAF,CAA/B;AACA,QAAMC,IAAI,GAAG,MAAMN,QAAQ,CAAE;AAC5BK,IAAAA,IAAI,EAAG,UAAUD,QAAQ,CAACG,SAAW,IAAIJ,EAAI;AADjB,GAAF,CAA3B;AAGA,QAAMK,KAAK,GAAGF,IAAI,CAACE,KAAL,CAAWC,GAAzB;AACA,QAAMC,OAAO,GAAGJ,IAAI,CAACI,OAAL,CAAaD,GAA7B;AACA,QAAME,WAAW,GAAGC,IAAI,CAACC,SAAL,CACnB;AACCC,IAAAA,MAAM,EAAE,UADT;AAECN,IAAAA,KAFD;AAGCE,IAAAA;AAHD,GADmB,EAMnB,IANmB,EAOnB,CAPmB,CAApB;AASA,QAAMK,QAAQ,GAAGhB,SAAS,CAAES,KAAF,CAAT,GAAqB,OAAtC;AAEAP,EAAAA,QAAQ,CAAEc,QAAF,EAAYJ,WAAZ,EAAyB,kBAAzB,CAAR;AACA;;AAED,eAAeT,mBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { download } from './file';\n\n/**\n * Export a reusable block as a JSON file.\n *\n * @param {number} id\n */\nasync function exportReusableBlock( id ) {\n\tconst postType = await apiFetch( { path: `/wp/v2/types/wp_block` } );\n\tconst post = await apiFetch( {\n\t\tpath: `/wp/v2/${ postType.rest_base }/${ id }?context=edit`,\n\t} );\n\tconst title = post.title.raw;\n\tconst content = post.content.raw;\n\tconst fileContent = JSON.stringify(\n\t\t{\n\t\t\t__file: 'wp_block',\n\t\t\ttitle,\n\t\t\tcontent,\n\t\t},\n\t\tnull,\n\t\t2\n\t);\n\tconst fileName = kebabCase( title ) + '.json';\n\n\tdownload( fileName, fileContent, 'application/json' );\n}\n\nexport default exportReusableBlock;\n"]}