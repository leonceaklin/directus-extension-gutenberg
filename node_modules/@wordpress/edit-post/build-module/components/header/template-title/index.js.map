{"version":3,"sources":["@wordpress/edit-post/src/components/header/template-title/index.js"],"names":["__","sprintf","useSelect","useDispatch","Dropdown","Button","__experimentalText","Text","chevronDown","store","editPostStore","blockEditorStore","editorStore","DeleteTemplate","EditTemplateTitle","TemplateDescription","TemplateTitle","template","isEditing","title","select","isEditingTemplate","getEditedPostTemplate","getEditedPostAttribute","_isEditing","clearSelectedBlock","setIsEditingTemplate","templateTitle","slug","hasOptions","custom","wp_id","description","onToggle","lineHeight"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tDropdown,\n\tButton,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editPostStore } from '../../../store';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as editorStore } from '@wordpress/editor';\nimport DeleteTemplate from './delete-template';\nimport EditTemplateTitle from './edit-template-title';\nimport TemplateDescription from './template-description';\n\nfunction TemplateTitle() {\n\tconst { template, isEditing, title } = useSelect( ( select ) => {\n\t\tconst { isEditingTemplate, getEditedPostTemplate } =\n\t\t\tselect( editPostStore );\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\n\t\tconst _isEditing = isEditingTemplate();\n\n\t\treturn {\n\t\t\ttemplate: _isEditing ? getEditedPostTemplate() : null,\n\t\t\tisEditing: _isEditing,\n\t\t\ttitle: getEditedPostAttribute( 'title' )\n\t\t\t\t? getEditedPostAttribute( 'title' )\n\t\t\t\t: __( 'Untitled' ),\n\t\t};\n\t}, [] );\n\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\tconst { setIsEditingTemplate } = useDispatch( editPostStore );\n\n\tif ( ! isEditing || ! template ) {\n\t\treturn null;\n\t}\n\n\tlet templateTitle = __( 'Default' );\n\tif ( template?.title ) {\n\t\ttemplateTitle = template.title;\n\t} else if ( !! template ) {\n\t\ttemplateTitle = template.slug;\n\t}\n\n\tconst hasOptions = !! (\n\t\ttemplate.custom ||\n\t\ttemplate.wp_id ||\n\t\ttemplate.description\n\t);\n\n\treturn (\n\t\t<div className=\"edit-post-template-top-area\">\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-post-template-post-title\"\n\t\t\t\tisLink\n\t\t\t\tshowTooltip\n\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t/* translators: %s: Title of the referring post, e.g: \"Hello World!\" */\n\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\ttitle\n\t\t\t\t) }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\tsetIsEditingTemplate( false );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</Button>\n\t\t\t{ hasOptions ? (\n\t\t\t\t<Dropdown\n\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\tcontentClassName=\"edit-post-template-top-area__popover\"\n\t\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"edit-post-template-title\"\n\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\tlabel={ __( 'Template Options' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ templateTitle }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<EditTemplateTitle />\n\t\t\t\t\t\t\t<TemplateDescription />\n\t\t\t\t\t\t\t<DeleteTemplate />\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Text\n\t\t\t\t\tclassName=\"edit-post-template-title\"\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tstyle={ { lineHeight: '24px' } }\n\t\t\t\t>\n\t\t\t\t\t{ templateTitle }\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default TemplateTitle;\n"]}