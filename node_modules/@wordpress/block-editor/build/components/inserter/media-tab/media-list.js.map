{"version":3,"sources":["@wordpress/block-editor/src/components/inserter/media-tab/media-list.js"],"names":["MediaPreview","media","onClick","composite","mediaType","block","preview","title","rendered","baseCssClass","draggable","onDragStart","onDragEnd","MediaList","mediaList","label","onPreviewClick","map","id"],"mappings":";;;;;;;;;AAUA;;;;AAPA;;AAMA;;AAEA;;AAKA;;AACA;;AAjBA;AACA;AACA;;AAWA;AACA;AACA;AAIA,SAASA,YAAT,OAAkE;AAAA;;AAAA,MAA3C;AAAEC,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA,SAAlB;AAA6BC,IAAAA;AAA7B,GAA2C;AACjE,QAAM,CAAEC,KAAF,EAASC,OAAT,IAAqB,sBAC1B,MAAM,wCAA6BL,KAA7B,EAAoCG,SAApC,CADoB,EAE1B,CAAEH,KAAF,EAASG,SAAT,CAF0B,CAA3B;AAIA,QAAMG,KAAK,GAAG,iBAAAN,KAAK,CAACM,KAAN,8DAAaC,QAAb,KAAyBP,KAAK,CAACM,KAA7C;AACA,QAAME,YAAY,GAAG,mCAArB;AACA,SACC,4BAAC,gCAAD;AAAyB,IAAA,SAAS,EAAG,IAArC;AAA4C,IAAA,MAAM,EAAG,CAAEJ,KAAF;AAArD,KACG;AAAA,QAAE;AAAEK,MAAAA,SAAF;AAAaC,MAAAA,WAAb;AAA0BC,MAAAA;AAA1B,KAAF;AAAA,WACD;AACC,MAAA,SAAS,EAAI,GAAGH,YAAc,aAD/B;AAEC,MAAA,SAAS,EAAGC,SAFb;AAGC,MAAA,WAAW,EAAGC,WAHf;AAIC,MAAA,SAAS,EAAGC;AAJb,OAMC,4BAAC,mBAAD;AAAS,MAAA,IAAI,EAAGL;AAAhB,OACC,4BAAC,mCAAD;AACC,MAAA,IAAI,EAAC,QADN;AAEC,MAAA,EAAE,EAAC;AAFJ,OAGMJ,SAHN;AAIC,MAAA,SAAS,EAAI,GAAGM,YAAc,QAJ/B;AAKC,MAAA,OAAO,EAAG,MAAM;AACfP,QAAAA,OAAO,CAAEG,KAAF,CAAP;AACA,OAPF;AAQC,oBAAaE;AARd,QAUC;AACC,MAAA,SAAS,EAAI,GAAGE,YAAc;AAD/B,OAGGH,OAHH,CAVD,CADD,CAND,CADC;AAAA,GADH,CADD;AA+BA;;AAED,SAASO,SAAT,QAKI;AAAA,MALgB;AACnBC,IAAAA,SADmB;AAEnBV,IAAAA,SAFmB;AAGnBF,IAAAA,OAHmB;AAInBa,IAAAA,KAAK,GAAG,cAAI,YAAJ;AAJW,GAKhB;AACH,QAAMZ,SAAS,GAAG,8CAAlB;AACA,QAAMa,cAAc,GAAG,0BACpBX,KAAF,IAAa;AACZH,IAAAA,OAAO,CAAE,wBAAYG,KAAZ,CAAF,CAAP;AACA,GAHqB,EAItB,CAAEH,OAAF,CAJsB,CAAvB;AAMA,SACC,4BAAC,+BAAD,6BACMC,SADN;AAEC,IAAA,IAAI,EAAC,SAFN;AAGC,IAAA,SAAS,EAAC,mCAHX;AAIC,kBAAaY;AAJd,MAMGD,SAAS,CAACG,GAAV,CAAiBhB,KAAF,IAChB,4BAAC,YAAD;AACC,IAAA,GAAG,EAAGA,KAAK,CAACiB,EADb;AAEC,IAAA,KAAK,EAAGjB,KAFT;AAGC,IAAA,SAAS,EAAGG,SAHb;AAIC,IAAA,OAAO,EAAGY,cAJX;AAKC,IAAA,SAAS,EAAGb;AALb,IADC,CANH,CADD;AAkBA;;eAEcU,S","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n\tTooltip,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { cloneBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport InserterDraggableBlocks from '../../inserter-draggable-blocks';\nimport { getBlockAndPreviewFromMedia } from './utils';\n\nfunction MediaPreview( { media, onClick, composite, mediaType } ) {\n\tconst [ block, preview ] = useMemo(\n\t\t() => getBlockAndPreviewFromMedia( media, mediaType ),\n\t\t[ media, mediaType ]\n\t);\n\tconst title = media.title?.rendered || media.title;\n\tconst baseCssClass = 'block-editor-inserter__media-list';\n\treturn (\n\t\t<InserterDraggableBlocks isEnabled={ true } blocks={ [ block ] }>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ `${ baseCssClass }__list-item` }\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t\tonDragEnd={ onDragEnd }\n\t\t\t\t>\n\t\t\t\t\t<Tooltip text={ title }>\n\t\t\t\t\t\t<CompositeItem\n\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t\t{ ...composite }\n\t\t\t\t\t\t\tclassName={ `${ baseCssClass }__item` }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonClick( block );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taria-label={ title }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={ `${ baseCssClass }__item-preview` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ preview }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CompositeItem>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nfunction MediaList( {\n\tmediaList,\n\tmediaType,\n\tonClick,\n\tlabel = __( 'Media List' ),\n} ) {\n\tconst composite = useCompositeState();\n\tconst onPreviewClick = useCallback(\n\t\t( block ) => {\n\t\t\tonClick( cloneBlock( block ) );\n\t\t},\n\t\t[ onClick ]\n\t);\n\treturn (\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-editor-inserter__media-list\"\n\t\t\taria-label={ label }\n\t\t>\n\t\t\t{ mediaList.map( ( media ) => (\n\t\t\t\t<MediaPreview\n\t\t\t\t\tkey={ media.id }\n\t\t\t\t\tmedia={ media }\n\t\t\t\t\tmediaType={ mediaType }\n\t\t\t\t\tonClick={ onPreviewClick }\n\t\t\t\t\tcomposite={ composite }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</Composite>\n\t);\n}\n\nexport default MediaList;\n"]}