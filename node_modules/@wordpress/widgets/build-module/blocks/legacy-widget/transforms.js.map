{"version":3,"sources":["@wordpress/widgets/src/blocks/legacy-widget/transforms.js"],"names":["createBlock","legacyWidgetTransforms","block","widget","transform","content","count","dropdown","displayAsDropdown","showPostCounts","show_date","displayPostDate","number","postsToShow","commentsToShow","taxonomy","showTagCounts","hierarchical","showHierarchy","url","preload","loop","attachment_id","id","src","alt","caption","height","link_classes","linkClass","link_rel","rel","link_target_blank","targetBlack","link_type","linkDestination","link_url","link","size","sizeSlug","width","linkTarget","undefined","ids","linkTo","columns","images","map","show_author","displayAuthor","displayDate","show_summary","displayExcerpt","items","feedURL","itemsToShow","type","blocks","isMatch","idBase","instance","raw","transformedBlock","title","transforms","to"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst legacyWidgetTransforms = [\n\t{\n\t\tblock: 'core/calendar',\n\t\twidget: 'calendar',\n\t},\n\t{\n\t\tblock: 'core/search',\n\t\twidget: 'search',\n\t},\n\t{\n\t\tblock: 'core/html',\n\t\twidget: 'custom_html',\n\t\ttransform: ( { content } ) => ( {\n\t\t\tcontent,\n\t\t} ),\n\t},\n\t{\n\t\tblock: 'core/archives',\n\t\twidget: 'archives',\n\t\ttransform: ( { count, dropdown } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayAsDropdown: !! dropdown,\n\t\t\t\tshowPostCounts: !! count,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/latest-posts',\n\t\twidget: 'recent-posts',\n\t\ttransform: ( { show_date: displayPostDate, number } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayPostDate: !! displayPostDate,\n\t\t\t\tpostsToShow: number,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/latest-comments',\n\t\twidget: 'recent-comments',\n\t\ttransform: ( { number } ) => {\n\t\t\treturn {\n\t\t\t\tcommentsToShow: number,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/tag-cloud',\n\t\twidget: 'tag_cloud',\n\t\ttransform: ( { taxonomy, count } ) => {\n\t\t\treturn {\n\t\t\t\tshowTagCounts: !! count,\n\t\t\t\ttaxonomy,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/categories',\n\t\twidget: 'categories',\n\t\ttransform: ( { count, dropdown, hierarchical } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayAsDropdown: !! dropdown,\n\t\t\t\tshowPostCounts: !! count,\n\t\t\t\tshowHierarchy: !! hierarchical,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/audio',\n\t\twidget: 'media_audio',\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\n\t\t\treturn {\n\t\t\t\tsrc: url,\n\t\t\t\tid,\n\t\t\t\tpreload,\n\t\t\t\tloop,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/video',\n\t\twidget: 'media_video',\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\n\t\t\treturn {\n\t\t\t\tsrc: url,\n\t\t\t\tid,\n\t\t\t\tpreload,\n\t\t\t\tloop,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/image',\n\t\twidget: 'media_image',\n\t\ttransform: ( {\n\t\t\talt,\n\t\t\tattachment_id: id,\n\t\t\tcaption,\n\t\t\theight,\n\t\t\tlink_classes: linkClass,\n\t\t\tlink_rel: rel,\n\t\t\tlink_target_blank: targetBlack,\n\t\t\tlink_type: linkDestination,\n\t\t\tlink_url: link,\n\t\t\tsize: sizeSlug,\n\t\t\turl,\n\t\t\twidth,\n\t\t} ) => {\n\t\t\treturn {\n\t\t\t\talt,\n\t\t\t\tcaption,\n\t\t\t\theight,\n\t\t\t\tid,\n\t\t\t\tlink,\n\t\t\t\tlinkClass,\n\t\t\t\tlinkDestination,\n\t\t\t\tlinkTarget: targetBlack ? '_blank' : undefined,\n\t\t\t\trel,\n\t\t\t\tsizeSlug,\n\t\t\t\turl,\n\t\t\t\twidth,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/gallery',\n\t\twidget: 'media_gallery',\n\t\ttransform: ( { ids, link_type: linkTo, size, number } ) => {\n\t\t\treturn {\n\t\t\t\tids,\n\t\t\t\tcolumns: number,\n\t\t\t\tlinkTo,\n\t\t\t\tsizeSlug: size,\n\t\t\t\timages: ids.map( ( id ) => ( {\n\t\t\t\t\tid,\n\t\t\t\t} ) ),\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/rss',\n\t\twidget: 'rss',\n\t\ttransform: ( {\n\t\t\turl,\n\t\t\tshow_author: displayAuthor,\n\t\t\tshow_date: displayDate,\n\t\t\tshow_summary: displayExcerpt,\n\t\t\titems,\n\t\t} ) => {\n\t\t\treturn {\n\t\t\t\tfeedURL: url,\n\t\t\t\tdisplayAuthor: !! displayAuthor,\n\t\t\t\tdisplayDate: !! displayDate,\n\t\t\t\tdisplayExcerpt: !! displayExcerpt,\n\t\t\t\titemsToShow: items,\n\t\t\t};\n\t\t},\n\t},\n].map( ( { block, widget, transform } ) => {\n\treturn {\n\t\ttype: 'block',\n\t\tblocks: [ block ],\n\t\tisMatch: ( { idBase, instance } ) => {\n\t\t\treturn idBase === widget && !! instance?.raw;\n\t\t},\n\t\ttransform: ( { instance } ) => {\n\t\t\tconst transformedBlock = createBlock(\n\t\t\t\tblock,\n\t\t\t\ttransform ? transform( instance.raw ) : undefined\n\t\t\t);\n\t\t\tif ( ! instance.raw?.title ) {\n\t\t\t\treturn transformedBlock;\n\t\t\t}\n\t\t\treturn [\n\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\tcontent: instance.raw.title,\n\t\t\t\t} ),\n\t\t\t\ttransformedBlock,\n\t\t\t];\n\t\t},\n\t};\n} );\n\nconst transforms = {\n\tto: legacyWidgetTransforms,\n};\n\nexport default transforms;\n"]}